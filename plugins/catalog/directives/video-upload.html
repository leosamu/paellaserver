<section class="ps-popup-content">
	<script type="text/ng-template" id="group-template.html">
		<div class="panel">
			<div class="panel-heading">
				<h4 class="panel-title" style="color:#fa39c3">
					<a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span
							ng-class="{'text-muted': isDisabled}">{{heading}}</span></a>
				</h4>
			</div>
			<div class="panel-collapse collapse" collapse="!isOpen">
				<div class="panel-body" style="text-align: right" ng-transclude></div>
			</div>
		</div>
	</script>



	<h1 class="modal-header">
		<span ng-show="!editing"> {{ "upload_video_text_title" | translate }} </span>
		<span ng-hide="!editing"> {{ "edit_video_text_title"   | translate }} </span>
	</h1>

	<form name="videoForm" class="form-horizontal" novalidate>
		<fieldset>
		
			<div class="panel panel-default">
				<!--
				<div class="panel-heading">
					<h3 class="panel-title">{{ 'video_info_text' | translate }}</h3>
				</div>
				-->
				<div class="panel-body">		
					<div class="form-group has-feedback" ng-class="{'has-error': !(videoForm.title.$valid)}">
						<label class="col-sm-2 control-label" for="title">{{ "title_field_text" | translate }}</label>
						<div class="col-sm-10">
							<input name="title" type="text" placeholder="{{ 'video_title_field_placeholder_text' | translate }}" class="form-control input-md" required ng-model="video.title">
						</div>
					</div>
		
					<div class="form-group has-feedback" ng-class="{'has-error': !(videoForm.language.$valid)}">
						<label class="col-sm-2 control-label">{{ "language" | translate }}</label>
						<div class="col-sm-10">
							<language-select language="video.language"></language-select>
							<input name="language" type="text" ng-model="video.language" style="display: none;" required>					
						</div>
					</div>
		
					<div class="form-group">
						<label class="col-sm-2 control-label">Palabras clave</label>
						<div class="col-sm-10">
							<input type="text" class="form-control" ng-model="video.metadata.keywords" ng-list>
						</div>
					</div>


					<!-- Drag and drop files area -->					
					<div ngf-drop ngf-select name="file" ng-model="videoFile" class="drop-box" 
						ngf-drag-over-class="'dragover'" ngf-multiple="false" ngf-allow-dir="false"
						ngf-accept="'video/*'" ngf-max-size="'10GB'"
						accept="{{acceptSelect}}"
						ngf-pattern="pattern" ng-change="selectFile(files)"
						ng-required="!editing"
						ng-show="!editing">
							<span ng-hide="videoFile">
								{{ "drop_videos_text" | translate }}
							</span>
							<span ng-show="videoFile">
								{{ videoFile.name }} <br/> ({{videoFile.size}} Bytes)
							</span>
					</div>
					<div ngf-no-file-drop>File Drag/Drop is not supported for this browser</div>		
					<!-- form.file.$error.maxSize=true -->

				</div>
			</div>
					
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">{{ 'categories' | translate }}</h3>
				</div>
				<div class="panel-body">
					<unesco-code-list ng-model="video.pluginData.unesco.codes"></unesco-code-list>
				</div>
			</div>	


			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">{{ "visibility_field_text" | translate }}</h3>
				</div>
				<div class="panel-body">				
					<div class="form-group">
						<label class="col-sm-2 control-label">{{ "visibility_field_text" | translate }}</label>
						<div class="col-sm-10">
							<div class="checkbox">
								<label>
									<input type="checkbox" ng-model="video.hidden"> {{ "hidden_in_list_text" | translate }}
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" ng-model="video.hiddenInSearches"> {{ "hidden_in_searches_text" | translate }}
								</label>
							</div>
						</div>
					</div>
					
					<div class="form-group">
						<label class="col-sm-2 control-label">Publicar</label>
						<div class="col-sm-10">							
							<div class="checkbox">
								<label>
									<input type="checkbox" ng-model="video.published.status"> Marcado como publicado
								</label>
							</div>
						</div>
					</div>	
					
					<div class="form-group" ng-show="(!video.published.status)">
						<label class="col-sm-2 control-label">Publicar el video automaticamente</label>
						<div class="col-sm-10">
							<div class="input-group">
								<input name="publicationDate" type="text" class="form-control" datepicker-popup="dd-MMMM-yyyy" ng-model="video.published.publicationDate" is-open="datePickerPublicationDateOpened" close-text="Close" disabled />
								<span class="input-group-btn">
									<button type="button" class="btn btn-default" ng-click="datePickerPublicationDateOpened = true"><i class="glyphicon glyphicon-calendar"></i></button>
								</span>
							</div>
						</div>
					</div>
					
					<div class="col-sm-offset-2 col-sm-10 alert alert-success" ng-show="video.published.status==true">
						El video está publicado y disponible para ser visualizado.
					</div>
					<div class="col-sm-offset-2 col-sm-10 alert alert-danger" ng-show="video.published.status==false && (!video.published.publicationDate)">
						El video no está publicado. Solo podrán visualizar el video los usuarios que tengan permiso de edición sobre el video.
					</div>
					<div class="col-sm-offset-2 col-sm-10 alert alert-warning" ng-show="video.published.status==false && video.published.publicationDate">
						El video no está publicado. Se publicará automaticamente el {{video.published.publicationDate | amDateFormat: 'll'}}
					</div>
					
				</div>
			</div>
		</fieldset>

		<p class="modal-footer">
		
			<div ng-show="updating">
				<div class="progress col-sm-10">
					<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="{{uploadPercentage}}" aria-valuemin="0" aria-valuemax="100" style="width: {{uploadPercentage}}%">
					</div>
				</div>		
				<div class="col-sm-2">
					<button class="btn btn-danger btn-xs btn-block" ng-click="abort_upload()">{{ "cancel_text" | translate }}</button>
				</div>
			</div>
			<div ng-hide="updating">
				<button class="btn btn-default" ng-click="close()">{{ "close" | translate }}</button>
				<button class="btn btn-primary pull-right" ng-click="videoForm.$valid && accept()" ng-disabled="!videoForm.$valid || updating">
					<loader-field ng-show="updating"></loader-field>
					<span ng-show="!editing"> {{ "create_text" | translate }} </span>
					<span ng-hide="!editing"> {{ "edit_text"   | translate }} </span>				
				</button>
			</div>
		</p>
	</form>
</section>