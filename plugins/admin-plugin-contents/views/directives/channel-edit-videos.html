<div class="panel panel-default">
<ul class="list-group media-list">
	<li class="list-group-item active">
		<h5>
			{{'Videos' | translate}} <span class="badge">{{channel.videos.length || 0}}</span>
			<button class="btn btn-default pull-right" style="margin-top:-10px;" ng-click="addVideos()">
				<span class="glyphicon glyphicon-plus"></span>
				{{'Add videos' | translate }}
			</button>
		</h5>						
	</li>
</ul>
<ul class="list-group" ng-hide="channel.videos && channel.videos.length>0">
	<li class="list-group-item list-group-item-warning">
		<h5>{{'The videos list is empty' | translate}}</h5>
		<p class="list-group-item-text"> {{'Add some videos' | translate}} </p>
	</li>
</ul>					
<ul class="list-group media-list" ui-sortable ng-model="channel.videos">
	<li class="list-group-item" ng-repeat="v in channel.videos" ng-class="{'list-group-item-danger': v.deletionDate}">
		<div class="media-left">
			<a href="#">
				<img class="media-object" style="width:100px;" src="resources/images/video-placeholder.png" ng-src="{{getVideoThumbnail(v)}}">
			</a>
		</div>
		<div class="media-body">
			<div class="btn-toolbar pull-right" role="toolbar">
				<div class="btn-group" role="group">
					<a class="btn btn-xs btn-default" target="_blank" ng-href="/player/?id={{v._id}}&autoplay=true"> <span class="glyphicon glyphicon-eye-open"></span> </a>
					<a class="btn btn-xs btn-default" target="_blank" ng-href="#/admin/videos/edit/{{v._id}}"> <span class="glyphicon glyphicon-pencil"></span> </a>
					<a class="btn btn-xs btn-default" target="_blank" ng-href="#/statistics/views/video/{{v._id}}"> <span class="glyphicon glyphicon-stats"></span> </a>					
				</div>
				<div class="btn-group" role="group">
					<button class="btn btn-xs btn-danger" ng-click="removeVideoFromChannel(v)">
						<span class="glyphicon glyphicon-remove"></span>
					</button>
				</div>
			</div>
	
			
			<h5 class="media-heading">
				<div class="btn-group" dropdown is-open="status.isopen">
			      <button type="button" class="btn btn-primary btn-xs" >
			        {{$index+1}} 
			      </button>
			    </div>	
											
				<div style="display:initial; width:89%; white-space:nowrap; overflow: hidden; text-overflow=ellipsis"> {{v.title}} </div>							
				
			</h5>
			<p class="list-group-item-text text-danger">
				{{v.owner[0].contactData.name}} {{v.owner[0].contactData.lastName}}
			</p>
			<p class="list-group-item-text">
				<span class="label label-default">{{v.creationDate | amDateFormat:'ll'}}</span>								
				<span class="label label-default">{{v.duration | secondsToHuman }}</span>	
				<small>{{v._id }}</small>			
			</p>
		</div>
		<div class="media-right">
			<div>
				<div>
					<img width="100" err-src="/resources/images/catalogs/_.png" ng-src="/resources/images/catalogs/{{v.catalog}}.png"/>								
					<p/>
				</div>
				<div>							
					<div ng-show="(v.permissions.length > 0)">
						<div data-toggle="tooltip" data-placement="left" title="{{'Only people with correct credentials can view this video.' | translate}}">
							<span class="glyphicon glyphicon-lock"></span>
							<span>{{'restricted' | translate}}</span>
						</div>
					</div>
					<div ng-show="(v.permissions.length == 0)">							
						<div ng-show="(v.hidden != true)" data-toggle="tooltip" data-placement="left" title="{{'People can view this video' | translate}}">
							<span class="glyphicon glyphicon-globe"></span>
							<span>{{'public' | translate}}</span>
						</div>
						<div ng-show="(v.hidden==true)" data-toggle="tooltip" data-placement="left" title="{{'Only people who knows the url can access to this video.' | translate}}">
							<span class="glyphicon glyphicon-sunglasses"></span>
							<span> {{'hidden' | translate}}</span>
						</div>
					</div>
				</div>							 
				<div>
					<div ng-show="getVideoState(v) == 'queue'">
						<span class="glyphicon glyphicon-hourglass" aria-hidden="true"></span>
						<span>{{'Queued' | translate}}</span>
					</div>
					<div ng-show="getVideoState(v) == 'processing'">
						<span class="glyphicon glyphicon-tasks" aria-hidden="true"></span>
						<span>{{'Processing' | translate}}</span>
					</div>
					<!--
					<div ng-show="getVideoState(v) == 'ready'">
						<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
						<span>{{'Ready' | translate}}</span>
					</div>
					-->
					<div ng-show="getVideoState(v) == 'error'">
						<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
						<span>{{'Error' | translate}}</span>
					</div>
					<div ng-show="getVideoState(v) == 'pendingUpload'">
						<span class="glyphicon glyphicon-upload" aria-hidden="true"></span>
						<span>{{'Pending upload' | translate}}</span>
					</div>
				</div>
				
				
				<div>
					<div ng-show="v.pluginData.OA.isOA == true" data-toggle="tooltip" data-placement="left" title="{{'This video is a Learing Object' | translate}}">
						<span class="glyphicon glyphicon-education" aria-hidden="true"></span>
						<span>{{'Learning Object' | translate}}</span>
					</div>
				</div>
			</div>		
		
		
		</div>
	</li>
</ul>
</div>